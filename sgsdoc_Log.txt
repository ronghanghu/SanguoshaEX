三国杀EX 开发日志

代码统计：
C++	26,013
Qt Ui	 4,051
HTML	 1,569
不包括网站组

存在的问题：
关于的武圣从选手牌改成选手牌或装备牌
曹操的护驾，刘备的激将在无效后仍可以出闪/杀
无懈可击告诉我已经结算到谁了
找出所有可能的卡牌泄露，包括用丈八蛇矛杀八卦阵
改变连营动画，先放出牌再放摸排可不可以？（在analyze里面调整一下顺序？）
马超铁骑

三国杀EX - 亮点汇总
使用规范的版本号，同时使用Git作为源代码版本控制
明确了设计阶段，编程阶段和测试阶段，有明确的人员分工
代码风格好。没有“魔数”
使用了UML作为建模语言，进行统一建
所有字符串都是Unicode编码，使得无论本地语言是什么，字符都能正常显示
高效的绘图算法，在系统空闲时先计算好要绘制的图形并将它存入内存。使用了双缓冲，将短期内多次刷新请求压缩为一次刷新
注重用户体验，为用户设置了快捷键，暂停游戏，十分详细的帮助文档等功能
注重页面美工，图片处理和字体选择都非常斟酌（字体的渲染让人很头疼，Windows、Mac OS X和X11各自有各自的算法，而且互相冲突）
强大的调试机制，有调试日志
跨平台性好，能够在Linux，Mac OS X和Windows上运行
程序的架构好，扩展性好。软件设计遵循面向对象设计的思路（见于《写给大家看……》《设计模式》）
双回调线程，确保用户的操作可以随时被响应
设计过程中参照了设计模式一书，使得软件具有复用性
发布时将动态链接库打包发布，且无需安装直接运行（不需要配置动态链接库）
坚持开源（open-source）理念，以GPL v3作为许可证

最大的难点：三国杀游戏缺乏统一的最高规则，游戏规则零散地分散在每张卡牌上。
新加入的卡牌往往会打破原有的架构，因此难以建模。
######################################################

图形界面部分 工作日志
4.09 增加了Windows下的程序图标
4.10 改进了连线动画，改成半透明白线
4.11 完成技能图片（图形元素已经全部构建完成）
4.12 绘制了三国杀系统结构图，保存至sgs_document_Layout.odg
4.14 实现了AudioPlayer，PixmapAnimation，LineAnimation三个子类化
4.16 PlayerArea增加了铁锁连环标签
4.23 构建了Google Code上的项目主页
4.24 配置了Git，开始设计图形算法
4.24 阅读了李昂的代码
4.30 构建图形算法
5.01 构建图形算法
5.03 构建Display接口
5.05 重新构建图形接口，更新了sgs_Interface.h，实现了图形接口
5.06 设计图形接口
5.07 尝试第一次链接
5.08 DEBUG
5.09 规范了图形界面的接口（response后先设置responseType, 然后Normalize卡牌（包括maxPlayerSelect），Normalize技能，Check按钮，
5.11 DEBUG
5.12 发布了第一个版本
5.15 DEBUG
显示提示信息，播放声音等，等待用户点击。
对于默认选牌+选玩家响应，如果收到新的被选卡牌，NormalizePlayer，然后Check按钮。
如果收到新的取消选择卡牌，先取消所有Player，NormalizePlayer，然后Check按钮。
如果受到新的被选玩家或者收到新的取消选择玩家，Check按钮。收集响应并返回。
######################################################
人工智能部分 工作日志
4.13 收集了网络上关于三国杀人工智能的一些资料，保存至sgs_document_AI.odt
5.05 确定图形接口，构建了基本AI

######################################################
官方网站部分 工作日志
4.15 构建了项目主页
4.24 调整了网站CSS

######################################################
待解决的问题
见Bugs to Fix列表

######################################################
######################################################
AI设计

武将挑选系统
根据自己的身份挑选适合的武将
建立身份———适合武将映射表

身份推断系统
判断反贼：对主公不利行为较多
判断忠臣和内奸：对主公有利行为较多

######################################################
MCard的构造函数里没有Card *？
闪是否有目标？
Result的格式？
代码问题：
修改了chain的clear，把while (_next!=this) ndelete(this);换成了
